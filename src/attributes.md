% 属性

Rust の宣言文にはそれぞれ 属性 ('attributes') によって関連情報を与えることができます。
次のようになります。

```rust
#[test]
# fn foo() {}
```

このようにも書けます。

```rust
# mod foo {
#![test]
# }
```

この２つのちがいは `!` で、属性を適用する相手を変えることができます。

```rust,ignore
#[foo]
struct Foo;

mod bar {
    #![bar]
}
```

`#[foo]` 属性は直後のものに適用され、ここでは `struct`
宣言になります。一方、`#![bar]` 属性はそれを囲むものに適用され、ここでは `mod` 宣言となります。それ以外は全く同じです。どちらも何らかの形で適用されたものの意味を変えます。

例としてこのような機能〈関数〉を考えてみます。

```rust
#[test]
fn check() {
    assert_eq!(2, 1 + 1);
}
```

この機能には `#[test]` が付けられています。これは特別の印で、
[検査][tests]を走らせたとき、この機能が実行されることを意味します。
その上、普通に製譜した場合は削除されるようになります。この機能は今や検査〈テスト〉機能と呼ぶべきものです。

[tests]: testing.html

属性にはさらに情報を持たせられます。

```rust
#[inline(always)]
fn super_fast_fn() {
# }
```

複数の鍵〈キー〉と値の組でも可。

```rust
#[cfg(target_os = "macos")]
mod macos_only {
# }
```

Rust の属性には様々な応用があります。全ての属性の一覧は[参考資料][reference]内に記載しました。今のところ属性の自作は認められておらず、Rust 製譜器がそれらを定義しています。

[reference]: ../reference.html#attributes
