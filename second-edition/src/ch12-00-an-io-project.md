# I / O企画。命令行算譜の構築

この章では、これまでに学んだ多くのスキルと、いくつかの標準的な譜集機能の概要を取り上げます。
ファイルや命令行の入出力と対話する命令行道具を構築して、あなたが現在持っているRustの概念のいくつかを練習します。

Rustの速さ、安全性、単一の二進譜出力、およびクロス基盤環境のサポート企画のために、古典的な命令行道具の私たち自身の版作ってあげるので、命令行道具を作成するための理想的な言語作り`grep`（ **グラム** lobally **Rを**検索egular **e** xpressionおよび**p** rint）。
最も単純な使用例では、`grep`は指定されたファイルを指定された文字列で検索します。
そのために、`grep`は引数としてファイル名と文字列を取ります。
次に、ファイルを読み込み、そのファイル内で文字列引数を含む行を見つけ出し、それらの行を出力します。

その間、多くの命令行道具が使用する端末の機能を命令行道具で使用する方法を示します。
環境変数の値を読んで、ユーザーが道具の動作を設定できるようにします。
標準出力（`stdout`）の代わりに標準誤り操作台ストリーム（ `stderr`）にも出力するので、たとえば、ユーザーは正常な出力をファイルにリダイレクトしても、画面上に誤りメッセージが表示されます。

One Rustコミュニティの要素であるAndrew Gallantは、`ripgrep`と呼ばれる完全に機能し、非常に高速な`grep`版をすでに作成しています。
これと比較して、`grep`版はかなりシンプルですが、この章では、`ripgrep`ような実世界の企画を理解するために必要な背景知識を`ripgrep`ます。

`grep`企画はこれまでに学んだ多くの概念を組み合わせます。

* 譜面の整理（役区で学んだことを使って、第7章）
* ベクトルと文字列を使う（集まり、第8章）
* 誤り処理（第9章）
* 必要に応じて特性や寿命を使用する（第10章）
* テストを書く（第11章）

閉包、反復子、および特性対象についても簡単に導入します（第13章と第17章で詳しく説明します）。
