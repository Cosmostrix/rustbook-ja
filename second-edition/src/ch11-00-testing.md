# 自動テストの作成

Edsger W. Dijkstraは、1972年の彼のエッセイ「The Humble Programmer」では、「<ruby>算譜<rt>プログラム</rt></ruby>テストはバグの存在を示す非常に効果的な方法ですが、欠席を示すには絶望的です」と述べています。できるだけ多く試してみてください！　

<ruby>算譜<rt>プログラム</rt></ruby>の正しさは、<ruby>譜面<rt>コード</rt></ruby>が意図していることをどの程度行っているかです。
Rustは、<ruby>算譜<rt>プログラム</rt></ruby>の正しさについて高い関心を持って設計されていますが、正確さは複雑であり、証明するのは容易ではありません。
Rustの型体系はこの負担の大きな部分を負っていますが、型体系はあらゆる種類の<ruby>誤り<rt>エラー</rt></ruby>を<ruby>捕捉<rt>キャッチ</rt></ruby>できません。
そのため、Rustには言語内での自動<ruby>譜体<rt>アプリケーション</rt></ruby>テストの作成がサポートされています。

例として、`add_two`という機能を書いて、渡される数値に2を加算するとします。
この機能の型注釈は、パラメータとして整数を受け取り、結果として整数を返します。
この機能を実装して<ruby>製譜<rt>コンパイル</rt></ruby>するとき、Rustはこれまでに学んだすべての型チェックと借用チェックを行います。たとえば、`String`値またはこの機能への無効な参照を渡さないようにします。
しかし、Rust *は*、この機能が意図したことを正確に行うことを確認する*ことはできません*。例えば、パラメータプラス10やパラメータマイナス50ではなく、パラメータプラス2を返します。
それがテストの仕組みです。

たとえば、`add_two`機能に`3`を渡したときに返される値は`5`あるとするテストを書くことができます。
既存の正しい動作が変更されていないことを確認するために、<ruby>譜面<rt>コード</rt></ruby>を変更するたびにこれらのテストを実行できます。

テストは複雑な技能です。1つの章で良いテストを書く方法のあらゆる詳細をカバーすることはできませんが、Rustのテスト機能のしくみについて議論します。
テストの作成時に使用できる<ruby>注釈<rt>コメント</rt></ruby>やマクロ、テストの実行に必要な<ruby>黙用<rt>デフォルト</rt></ruby>の動作とオプション、単体テストと統合テストへのテストの構成方法について説明します。
